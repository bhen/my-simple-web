{% extends 'layout.html.twig' %}

{% block stylesheets %}

    <link rel="stylesheet" href="{{ asset('frontend/css/min/reset.css') }}" />
    <link rel="stylesheet" href="{{ asset('frontend/css/min/text.css')  }}" />
    <link rel="stylesheet" href="{{ asset('frontend/css/min/960.css')   }}" />

    <style type="text/css">

        h1{
            color: #678;
            font-size: 4.5em;
            padding-bottom: 0;
            margin-bottom: 0;
        }
        #content,
        #footer,
        #header{
            background-color: #acb;
        }
        #header p{
            font-size: 2em;
        }
        #menu.grid_2{
            border: 1px solid black;
            background-color: #0aa !important;
        }
        #menu a{
            font-size: 1.2em;
            text-decoration: none;
            font-weight: bold;
            color: #ab4272;
        }
        #menu a:visited{
            color: #ab4272;
        }
        .clear2{
            min-height: 5px;
            min-width: 960px;
            background-color: #ddd;
        }

        #content{
            min-height: 414px;
        }

        #subcontent{
            min-height: 400px;
            border: 1px solid #ddd;
        }

        .h20{
            min-heigth: 20px;
        }
        #footer ul{
            list-style: none;
            margin: 0;
        }
        #footer a{
            text-decoration: none;
            color: #ab4272;
        }
        #footer a:visited{
            color: #ab4272;
        }
    </style>
{% endblock stylesheets %}


{% block header %}
    <div class="container_12" id="header">
        <div class="grid_2">
            <img src="{{ asset('custom/frontend/img/logo.png') }}"
                 alt="logo {{ config('web.title') }}" width="238">
        </div>
        <div class="grid_9 prefix_1">
            <h1>{{ config('web.title') }}</h1>
            <p>{{ config('web.description.' ~ session('lang')) }}</p>
        </div>
        <div class="clear"></div>
        <div class="grid_8 prefix_4" id="menu">
            <div class="grid_2">
                <a href="{{ urlFor('home.staticpage', {'slug':'about'}) }}">
                    {{ _('About us') }}
                </a>
            </div>
            <div class="grid_2">
                <a href="{{ urlFor('articles.index') }}">
                    {{ _('My articles') }}
                </a>
            </div>
            <div class="grid_2">
                <a href="{{ urlFor('contact.index') }}">
                    {{ _('Contact') }}
                </a>
            </div>
            <div class="grid_1">
                {% set lang = session('lang') %}
                <select name="lang">
                    {% for code,language in langConfig() %}
                        <option value="{{ code }}"
                            {{ lang == code ? 'selected="selected"' : '' }}
                            href="{{ urlActual({ 'lang':code }) }}">
                                {{ language|raw }}
                            </a>
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>
    <div class="clear2 container_12"></div>
    <div class="clear"></div>
{% endblock header %}


{% block content %}
    <div class="container_12" id="content">

        {% block subcontent %}



        {% endblock subcontent %}

    </div>
{% endblock content %}


{% block footer %}

    <div class="clear"></div>

    <div class="clear2 container_12"></div>
    <div class="container_12" id="footer">

        {% block subfooter %}
        <div class="grid_5">
            <ul>
                <li>
                    <a href="{{ urlFor('home.index') }}">
                        {{ _('Home') }}
                    </a>
                </li>
                <li>
                    <a href="{{ urlFor('home.staticpage',{'slug':'privacy-policy'}) }}">
                        {{ _('Privacy policy') }}
                    </a>
                </li>
                <li>
                    {{ _('Contact') }}: <strong>{{ config('web.email.contact') }}</strong>
                </li>
            </ul>
        </div>
        <div class="grid_5">
            <ul>
                <li>
                    {{ _('Developed by') }}:&nbsp;
                    <a href="{{ config('web.developer.url') }}">
                        {{ config('web.developer') }}
                    </a>
                </li>
            </ul>
        </div>
        <div class="grid_2">
            <img src="{{ asset('custom/frontend/img/logo.png') }}"
                 alt="logo" width="150">
        </div>
        {% endblock subfooter %}

    </div>
{% endblock footer %}


{% block javascripts %}
    <script type="text/javascript" src="{{ asset('common/js/jquery-1.8.3.min.js') }}"></script>
    <script type="text/javascript">
        $('select[name="lang"]').change(function(e){
            //console.log('Entering in language change');
            e.preventDefault();
            var href = $('select[name="lang"] :selected').attr('href');
            //console.log(href);
            window.location = href /*+ '?cache={{ ''|date('U') }}'*/;
        });
    </script>
{% endblock javascripts %}